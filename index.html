<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vintage Roleplay-2026</title>
  <link rel="icon" href="logo.png" type="image/x-icon" />
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <script src="config.js"></script>
</head>

<body>

  <div class="announcement-bar">
    <div class="announcement-track">
      ЁЯЪА Welcome to Vintage Roleplay! &nbsp;&nbsp; | &nbsp;&nbsp; ЁЯОЙ Server Live From Jan 2026! &nbsp;&nbsp; | &nbsp;&nbsp; ЁЯФФ Join our Discord for latest news! 
  </div>
    </div>
  </div>

  <audio id="bgMusic" loop>
    <source src="bgm.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
  </audio>

  <button id="muteBtn" aria-label="Toggle background music">
    <img id="musicIcon" src="no-sound.png" alt="Mute/Unmute" />
  </button>

  <header class="hero-section">
    <div class="logo">VINTAGE ROLEPLAY</div>
    <nav class="navbar">
      <a href="#home" class="application-button"><span data-lang="en">Home</span> <span data-lang="ta">роорпБроХрокрпНрокрпБ</span></a>
      <a href="#announcements" class="application-button"><span data-lang="en">Announcements</span> <span data-lang="ta">роЕро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН</span></a>
      <a href="rules.html" class="application-button"><span data-lang="en">Rules</span> <span data-lang="ta">ро╡ро┐родро┐роХро│рпН</span></a>
      <a href="application.html" id="visa-link"class="application-button" id="app-link"><span data-lang="en">Visa Application</span> <span data-lang="ta">ро╡ро┐роЪро╛ ро╡ро┐рогрпНрогрокрпНрокроорпН</span></a>
      <a href="#contact" class="application-button"><span data-lang="en">Contact</span> <span data-lang="ta">родрпКроЯро░рпНрокрпБ</span></a>
      <a id="discord-login" href="/login" class="btn-primary" style="margin-left:10px; cursor:pointer;">
        <i class="fab fa-discord"></i>
        <span data-lang="en">Login</span>
        <span data-lang="ta">Login</span>
      </a>
      </nav>

    <button id="theme-toggle" class="theme-toggle">
      <img id="theme-icon" src="bulb_on.png" alt="Toggle Theme">
    </button>
  </header>

  <div class="lang-toggle-container">
    <button id="lang-toggle">родрооро┐ро┤рпН / EN</button>
  </div>

  <main>
        <section id="home" class="content-section">
            <h2><span data-lang="en">Welcome to Grand Roleplay</span> <span data-lang="ta">Grand Roleplay-роХрпНроХрпБ ро╡ро░рпБроХ</span></h2>
            <p><span data-lang="en">Experience the ultimate SA:MP Roleplay environment. We focus on realism, unique job systems, and a dedicated community. Join today and start your life in Los Santos!</span>
            <span data-lang="ta">роорпБродро▓рпН роиро┐ро▓рпИ SA:MP рокро╛родрпНродро┐ро░роироЯрпИ роЕройрпБрокро╡родрпНродрпИ роЕройрпБрокро╡ро┐роХрпНроХро╡рпБроорпН. роиро╛роЩрпНроХро│рпН ропродро╛ро░рпНродрпНродроорпН, родройро┐родрпНродрпБро╡рооро╛рой ро╡рпЗро▓рпИ роЕроорпИрокрпНрокрпБроХро│рпН рооро▒рпНро▒рпБроорпН роЕро░рпНрокрпНрокрогро┐роХрпНроХрокрпНрокроЯрпНроЯ роЪроорпВроХродрпНродрпИ роХро╡ройро┐роХрпНроХро┐ро▒рпЛроорпН. роЗройрпНро▒рпЗ роЪрпЗро░ро╡рпБроорпН рооро▒рпНро▒рпБроорпН ро▓ро╛ро╕рпН роЪро╛рогрпНроЯрпЛро╕ро┐ро▓рпН роЙроЩрпНроХро│рпН ро╡ро╛ро┤рпНроХрпНроХрпИропрпИродрпН родрпКроЯроЩрпНроХрпБроЩрпНроХро│рпН!</span></p>
            <div class="features-grid">
                <div class="feature-box"><h3><i class="fas fa-hammer"></i> <span data-lang="en">Custom Jobs</span> <span data-lang="ta">родройро┐рокрпНрокропройрпН ро╡рпЗро▓рпИроХро│рпН</span></h3><p><span data-lang="en">Work as a mechanic, truck driver, or even a crime boss.</span> <span data-lang="ta">роТро░рпБ роЗропроирпНродро┐ро░ ро╡ро▓рпНро▓рпБроиро░ро╛роХ, роЯро┐ро░роХрпН роУроЯрпНроЯрпБроиро░ро╛роХ роЕро▓рпНро▓родрпБ роХрпБро▒рпНро▒ро╡ро╛ро│ро┐ропро╛ роХрпВроЯ ро╡рпЗро▓рпИ роЪрпЖропрпНропро▓ро╛роорпН.</span></p></div>
                <div class="feature-box"><h3><i class="fas fa-house-user"></i> <span data-lang="en">Dynamic Housing</span> <span data-lang="ta">родройро┐рокрпНрокроЯрпНроЯ ро╡рпАроЯроорпИрокрпНрокрпБ</span></h3><p><span data-lang="en">Purchase and customize apartments, houses, and businesses.</span> <span data-lang="ta">роЕро▓рпИрокрпЗроЪро┐, ро╡рпАроЯрпБроХро│рпН рооро▒рпНро▒рпБроорпН ро╡рогро┐роХроЩрпНроХро│рпИ ро╡ро╛роЩрпНроХро┐ родройро┐рокрпНрокропройрпН рооро╛ро▒рпНро▒роорпН роЪрпЖропрпНропро▓ро╛роорпН.</span></p></div>
                <div class="feature-box"><h3><i class="fas fa-user-shield"></i> <span data-lang="en">Active Staff</span> <span data-lang="ta">роЪрпЖропро▓ро┐ро▓рпН роЙро│рпНро│ рокрогро┐ропро╛ро│ро░рпНроХро│рпН</span></h3><p><span data-lang="en">24/7 in-game and Discord support to ensure fair play.</span> <span data-lang="ta">роиро┐ропро╛ропрооро╛рой ро╡ро┐ро│рпИропро╛роЯрпНроЯрпИ роЙро▒рпБродро┐ роЪрпЖропрпНроп 24/7 in-game рооро▒рпНро▒рпБроорпН Discord роЖродро░ро╡рпБ.</span></p></div>
            </div>
        </section>

        <section id="announcements" class="content-section dark-bg">
            <h2><span data-lang="en">Latest Announcements</span> <span data-lang="ta">роЪроорпАрокродрпНродро┐роп роЕро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН</span></h2>
            
            <article class="announcement">
                <h3><span data-lang="en">V1.5 Mega Update Released!</span> <span data-lang="ta">V1.5 роорпЖроХро╛ роЕрокрпНроЯрпЗроЯрпН ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯрпНроЯродрпБ!</span></h3>
                <p class="date">October 25, 2025</p>
                <p><span data-lang="en">We are excited to announce the launch of V1.5! This update introduces a completely new prison system, three new legal jobs, and an overhaul of the faction base interiors. Read the full patch notes on our forum.</span>
                <span data-lang="ta">V1.5 ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпБ роЕро▒ро┐ро╡ро┐рокрпНрокро┐ро▓рпН рооро┐роХрпБроирпНрод роороХро┐ро┤рпНроЪрпНроЪро┐! роЗроирпНрод роЕрокрпНроЯрпЗроЯрпН рокрпБродро┐роп роЪро┐ро▒рпИ роЕроорпИрокрпНрокрпИ, роорпВройрпНро▒рпБ рокрпБродро┐роп роЪроЯрпНроЯрокрпВро░рпНро╡ ро╡рпЗро▓рпИроХро│рпИ рооро▒рпНро▒рпБроорпН рокро┐ро░ро┐ро╡рпБ роЕроЯро┐рокрпНрокроЯрпИ роЙро│рпН ро╡роЯро┐ро╡роорпИрокрпНрокро┐ро▓рпН рооро╛ро▒рпНро▒роЩрпНроХро│рпИ роХрпКрогрпНроЯрпБ ро╡ро░рпБроХро┐ро▒родрпБ. роорпБро┤рпБ рооро╛ро▒рпНро▒ роХрпБро▒ро┐рокрпНрокрпБроХро│рпИ роОроЩрпНроХро│рпН рокрпЛро░родрпНродро┐ро▓рпН рокроЯро┐ропрпБроЩрпНроХро│рпН.</span></p>
                <a href="#" class="read-more"><span data-lang="en">View Full Patch Notes &rarr;</span> <span data-lang="ta">роорпБро┤рпБ рооро╛ро▒рпНро▒ роХрпБро▒ро┐рокрпНрокрпБроХро│рпИ рокро╛ро░рпНроХрпНроХ &rarr;</span></a>
            </article>
            
            <article class="announcement">
                <h3><span data-lang="en">Weekly Staff Applications Open</span> <span data-lang="ta">ро╡ро╛ро░ро╛роирпНродро┐ро░ рокрогро┐ропро╛ро│ро░рпН ро╡ро┐рогрпНрогрокрпНрокроЩрпНроХро│рпН родро┐ро▒роХрпНроХрокрпНрокроЯрпНроЯрой</span></h3>
                <p class="date">October 20, 2025</p>
                <p><span data-lang="en">Think you have what it takes to join the Admin team? Staff applications are now open! Click the link below to apply.</span> <span data-lang="ta">роирпАроЩрпНроХро│рпН роиро┐ро░рпНро╡ро╛роХ роХрпБро┤рпБро╡ро┐ро▓рпН роЪрпЗро░рпНроирпНродро╛ро▓рпН роЪро░ро┐ роОройрпНро▒рпБ роиро┐ройрпИроХрпНроХро┐ро▒рпАро░рпНроХро│ро╛? рокрогро┐ропро╛ро│ро░рпН ро╡ро┐рогрпНрогрокрпНрокроЩрпНроХро│рпН роЗрокрпНрокрпЛродрпБ родро┐ро▒роирпНродро┐ро░рпБроХрпНроХрпБроорпН! ро╡ро┐рогрпНрогрокрпНрокро┐роХрпНроХ роХрпАро┤рпЗ роЙро│рпНро│ роЗрогрпИрокрпНрокрпБ роорпАродрпБ роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН.</span></p>
            </article>

            <article class="announcement">
                <h3><span data-lang="en">New Event: Race Wars Tonight!</span> <span data-lang="ta">рокрпБродрпБ роиро┐роХро┤рпНро╡рпБ: роЗройрпНро▒рпБ роЗро░ро╡рпБ Race Wars!</span></h3>
                <p class="date">October 15, 2025</p>
                <p><span data-lang="en">Join us tonight at the Los Santos Forum for a massive organized street racing event! Prizes will be awarded to the top three finishers.</span> <span data-lang="ta">роЗройрпНро▒рпБ роЗро░ро╡рпБ ро▓ро╛ро╕рпН роЪро╛рогрпНроЯрпЛро╕рпН рооройрпНро▒родрпНродро┐ро▓рпН рокро┐ро░роорпНрооро╛рогрпНроЯрооро╛рой родрпЖро░рпБ рокроирпНродроп роиро┐роХро┤рпНро╡рпБроХрпНроХрпБ роОроЩрпНроХро│рпБроЯройрпН роЪрпЗро░рпБроЩрпНроХро│рпН! роорпБродро▓рпН роорпВройрпНро▒рпБ роЗроЯроЩрпНроХро│рпБроХрпНроХрпБ рокро░ро┐роЪрпБроХро│рпН ро╡ро┤роЩрпНроХрокрпНрокроЯрпБроорпН.</span></p>
            </article>

            <a href="application.html" class="btn-primary large-btn"><span data-lang="en">View Open Applications</span> <span data-lang="ta">родро┐ро▒роирпНрод ро╡ро┐рогрпНрогрокрпНрокроЩрпНроХро│рпИ рокро╛ро░рпНроХрпНроХ</span></a>
        </section>

        <section id="contact" class="content-section dark-bg">
            <h2><span data-lang="en">Contact & Support</span> <span data-lang="ta">родрпКроЯро░рпНрокрпБ & роЖродро░ро╡рпБ</span></h2>
            <div class="contact-info">
                <p><i class="fab fa-discord"></i> <span data-lang="en">Discord:</span> <span data-lang="en">Join our official Discord for live support and community chat.</span> <span data-lang="ta">Discord:</span> <span data-lang="ta">роирпЗро░роЯро┐ роЖродро░ро╡ро┐ро▒рпНроХрпБроорпН роЪроорпБродро╛роп роЙро░рпИропро╛роЯро▓рпБроХрпНроХрпБрооро╛рой роОроЩрпНроХро│рпН роЕродро┐роХро╛ро░рокрпВро░рпНро╡ Discord-роЕро┐ро▓рпН роХро▓роирпНродрпБ роХрпКро│рпНро│рпБроЩрпНроХро│рпН.</span></p>
                <a href="YOUR_DISCORD_INVITE_LINK" class="btn-primary"><i class="fab fa-discord"></i> <span data-lang="en">Join Discord</span> <span data-lang="ta">Discord роЗро▓рпН роЪрпЗро░ро╡рпБроорпН</span></a>
                <p><i class="fas fa-envelope"></i> <span data-lang="en">Email:</span> <span data-lang="en">For serious inquiries or appeals, contact <a href="mailto:rcrptamil2022@gmail.com">rcrptamil2022@gmail.com</a></span> <span data-lang="ta">рооро┐ройрпНройроЮрпНроЪро▓рпН:</span> <span data-lang="ta">роХроЯрпБроорпИропро╛рой ро╡ро┐роЪро╛ро░рогрпИроХро│рпН роЕро▓рпНро▓родрпБ рооройрпБродро╛роХрпНроХро▓рпНроХро│рпБроХрпНроХрпБ, родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ро╡рпБроорпН <a href="mailto:rcrptamil2022@gmail.com">rcrptamil2022@gmail.com</a></span></p>
            </div>
        </section>
        
    </main>

  <footer>
    <p><span data-lang="en">&copy; 2025 Grand Roleplay. All Rights Reserved.</span> 
    <span data-lang="ta">&copy; 2025 Grand Roleplay. роЕройрпИродрпНродрпБ роЙро░ро┐роорпИроХро│рпБроорпН рокро╛родрпБроХро╛роХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой.</span></p>
    <div class="social-links">
      <a href="https://www.instagram.com/rcxat_001?igsh=N3pidDRwb2Jham9n"><i class="fab fa-instagram"></i></a>
      <a href="https://youtube.com/@vgsyt_0705?si=YRRWign4nOAVhdu4"><i class="fab fa-youtube"></i></a>
    </div>
  </footer>

  <script>
  // ------------------------------
  // THEME TOGGLE
  // ------------------------------
  const toggleBtn = document.getElementById("theme-toggle");
  const themeIcon = document.getElementById("theme-icon");
  const root = document.documentElement;
  const icons = { light: "bulb_on.png", dark: "bulb_off.png" };
  let savedTheme = localStorage.getItem("theme") || "light";
  root.setAttribute("data-theme", savedTheme);
  themeIcon.src = icons[savedTheme];
  toggleBtn.addEventListener("click", () => {
    const next = savedTheme === "light" ? "dark" : "light";
    root.setAttribute("data-theme", next);
    themeIcon.src = icons[next];
    localStorage.setItem("theme", next);
    savedTheme = next;
  });

  // ------------------------------
  // LANGUAGE TOGGLE
  // ------------------------------
  const langToggle = document.getElementById("lang-toggle");
  let currentLang = localStorage.getItem("lang") || "en";
  function setLanguage(lang) {
    const elements = document.querySelectorAll("[data-lang]");
    elements.forEach(el => el.style.display = el.dataset.lang === lang ? "inline" : "none");
    localStorage.setItem("lang", lang);
  }
  setLanguage(currentLang);
  langToggle.addEventListener("click", () => {
    currentLang = currentLang === "en" ? "ta" : "en";
    setLanguage(currentLang);
  });

  // ------------------------------
  // BACKGROUND MUSIC
  // ------------------------------
  const bgMusic = document.getElementById('bgMusic');
  const muteBtn = document.getElementById('muteBtn');
  const musicIcon = document.getElementById('musicIcon');
  bgMusic.volume = 0.4;
  bgMusic.muted = false;
  musicIcon.src = 'sound.png';
  function playMusicOnInteraction() {
    bgMusic.play().catch(() => {});
    window.removeEventListener('click', playMusicOnInteraction);
    window.removeEventListener('keydown', playMusicOnInteraction);
  }
  window.addEventListener('click', playMusicOnInteraction);
  window.addEventListener('keydown', playMusicOnInteraction);
  muteBtn.addEventListener('click', () => {
    bgMusic.muted = !bgMusic.muted;
    musicIcon.src = bgMusic.muted ? 'no-sound.png' : 'sound.png';
  });

  // ------------------------------
  // DISCORD LOGIN SYSTEM (Local Server Version)
  // ------------------------------
  const visaLink = document.getElementById("visa-link");
  const discordLoginBtn = document.getElementById("discord-login");
  const nav = document.querySelector(".navbar");

  // Use configuration from config.js (auto-detects environment)
  const BASE_URL = window.APP_CONFIG?.BASE_URL || window.location.origin;
  const LOGIN_URL = window.APP_CONFIG?.LOGIN_URL || `${BASE_URL}/login`;
  const LOGOUT_URL = window.APP_CONFIG?.LOGOUT_URL || `${BASE_URL}/logout`;
  const USER_INFO_URL = window.APP_CONFIG?.USER_INFO_URL || `${BASE_URL}/user`;

  async function updateAuthUI() {
    try {
      const response = await fetch(USER_INFO_URL, { credentials: "include" });

      if (response.ok) {
        const user = await response.json();

        const username = user.username || "User";
        const avatar = user.avatar
          ? `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`
          : "https://cdn.discordapp.com/embed/avatars/0.png";

        localStorage.setItem("discord_username_secure", username);
        localStorage.setItem("discord_user_avatar", avatar);

        // Hide login button
        discordLoginBtn.style.display = "none";

        // Create or update user display
        let userDisplay = document.getElementById("user-display");
        if (!userDisplay) {
          userDisplay = document.createElement("div");
          userDisplay.id = "user-display";
          userDisplay.className = "user-info";
          userDisplay.style.display = "flex";
          userDisplay.style.alignItems = "center";
          userDisplay.style.gap = "8px";
          userDisplay.style.marginLeft = "15px";
          userDisplay.innerHTML = `
            <img src="${avatar}" alt="avatar" id="discord-avatar"
              style="width:32px;height:32px;border-radius:50%;border:2px solid #7289DA;">
            <span id="discord-name" style="color:#7289DA;font-weight:bold;">${username}</span>
          `;
          nav.appendChild(userDisplay);
        } else {
          document.getElementById("discord-avatar").src = avatar;
          document.getElementById("discord-name").textContent = username;
        }

        // Add Logout button
        let logoutBtn = document.getElementById("discord-logout");
        if (!logoutBtn) {
          logoutBtn = document.createElement("a");
          logoutBtn.id = "discord-logout";
          logoutBtn.href = "#";
          logoutBtn.className = "btn-primary";
          logoutBtn.style.marginLeft = "10px";
          logoutBtn.innerHTML = `<i class="fas fa-sign-out-alt"></i> Logout`;
          logoutBtn.onclick = async () => {
            await fetch(LOGOUT_URL, { credentials: "include" });
            localStorage.clear();
            location.reload();
          };
          nav.appendChild(logoutBtn);
        }

        // Enable Visa Application
        visaLink.style.pointerEvents = "auto";
        visaLink.style.opacity = "1";
      } else {
        handleLoggedOut();
      }
    } catch (err) {
      console.error("Error fetching user info:", err);
      handleLoggedOut();
    }
  }

  function handleLoggedOut() {
    discordLoginBtn.style.display = "inline-block";
    discordLoginBtn.onclick = () => { window.location.href = LOGIN_URL; };
    document.getElementById("discord-logout")?.remove();
    document.getElementById("user-display")?.remove();
    localStorage.clear();
    visaLink.style.pointerEvents = "none";
    visaLink.style.opacity = "0.5";
    visaLink.addEventListener("click", (e) => {
      e.preventDefault();
      alert("Please login with Discord to access the Visa Application.");
    });
  }

  document.addEventListener("DOMContentLoaded", updateAuthUI);
</script>

</body>
</html>